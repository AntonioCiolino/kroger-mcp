<div class="header">
    <div class="header-content">
        <h1>ğŸ›’ Kroger Shopping</h1>
        <div class="toolbar">
            <button class="toolbar-btn active" onclick="showSection('products')">ğŸ” Search</button>
            <button class="toolbar-btn" onclick="showLocationPopup()">ğŸ“ <span id="preferredLocationName">Locations</span></button>
            <div class="fulfillment-selector">
                <select id="globalFulfillmentMethod" class="fulfillment-dropdown">
                    <option value="PICKUP">ğŸš— Pickup</option>
                    <option value="DELIVERY">ğŸšš Delivery</option>
                </select>
            </div>
            <div class="login-indicator" onclick="toggleAuth()">
                <div class="login-status" id="headerLoginStatus">
                    <span class="login-icon">ğŸ‘¤</span>
                    <span class="login-text">Login</span>
                </div>
            </div>
            <button class="toolbar-btn cart-btn" onclick="toggleCart()">ğŸ›’ <span id="cartItemCount">0</span></button>
        </div>
    </div>
</div>

<!-- Auth Modal -->
<div id="authModal" class="auth-modal">
    <div class="auth-modal-content">
        <div class="auth-modal-header">
            <h3>ğŸ” Kroger Authentication</h3>
            <button onclick="closeAuthModal()" class="auth-modal-close">âœ•</button>
        </div>
        <div class="auth-modal-body">
            <div id="authStatus">
                <span class="status-indicator status-disconnected"></span>
                <span>Not authenticated</span>
            </div>
            <div class="auth-actions">
                <button onclick="authenticateWithKroger()" id="authButton" class="btn-success">ğŸ”— Authenticate with Kroger</button>
                <button onclick="checkAuthStatus(true)" class="btn-secondary">Refresh Status</button>
                <button onclick="logoutFromKroger()" id="logoutButton" class="btn-danger">ğŸšª Logout</button>
            </div>
            <div id="authResults" class="results" style="display: none;"></div>
        </div>
    </div>
</div>